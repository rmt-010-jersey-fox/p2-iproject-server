# forum Games-server
Server site Forum Games

# My forum Games App Server
My forum Games App is an application to manage your forum Games. It performs standard CRUD actions based on RESTful concept.

This app has : 
* RESTful endpoint for asset's CRUD operation
* JSON formatted response

&nbsp;

Tech Stack used to build this app :
* Node JS
* Express JS framework
* PostgreSQL
* Sequelize
* Bcrypt
* Dotenv
* Jsonwebtoken
* Axios


## Global Responses
> These responses are applied globally on all endpoints

_Response (400 - Bad Request)_
```
{
  "message": "<your message for 400>"
}
```

_Response (401 - Unauthorized)_
```
{
  "message": "<your message for 401>"
}
```

_Response (500 - Internal Server Error)_
```
{
  "message": "<your message for 401>"
}
```


&nbsp;

### List endpoints
- `POST /login`
- `POST /googleLogin`
- `POST /register`
- `GET /users`
- `GET /users/:id`
- `PUT /users/:id`
- `PATCH /users/:id`
- `DELETE /users/:id`
- `GET /threads`
- `GET /threads/:id`
- `POST /threads`
- `PUT /threads/:id`
- `PATCH /threads/:id`
- `DELETE /threads/:id`
- `GET /events`
- `GET /events/:id`
- `POST /events`
- `PUT /events/:id`
- `PATCH /events/:id`
- `DELETE /events/:id`
- `GET /popularGames`


&nbsp;

---
## RESTful endpoints

---
### POST /login

> Post login user


_Request Body_
```
{
    "email": "customer@mail.com",
    "password": "abc123"
}
```

_Response (200)_OK
```
[
    {
        "id": <User logged id>,
        "email": "<User logged email>",
        "access_token": <access_token>
    }
]
```

_Response (404)_Not Found
```
{
    "message":  ["<Error message>"]
}
```

---
### POST /googleLogin

> Post login user with Google Account

_Request Header_
```
not needed
```

_Request Body_
```
{
    "id_token" : <your id token generated by google>
}
```

_Response (201)_Created  (only if you login with google account for the first time)
```
[
    {
        "id": <User logged id>,
        "email": "<User logged email>",
        "username": "<User logged username>"
    }
]
```

_Response (200)_OK
```
[
    {
        "id": <User logged id>,
        "email": "<User logged email>",
        "username": "<User logged username>",
        "access_token": <access_token>
    }
]
```

### POST /register

> Post register user


_Request Body_
```
{
    "username": "abcdef"
    "email": "abcdef@mail.com",
    "password": "abcd1234"
}
```

_Response (201)_Created
```
[
    {
        "id": <registered id>,
        "username": "<registered username>",
        "email": "<registered email>",
    }
]
```

_Response (400)_Bad Request
```
{
    "message": "Bad Request",
    "errors": [
        "<Error message>"
    ]
}
```

---
### GET /users

> Get single asset as defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```

_Request Body_
```
not needed
```

_Request Params_
```
not needed
```

_Response (200)_OK
```
[
    {
        "id": 1,
        "username": "blazeB"
        "fullName": "John Pond"
        "email": "blazeB@mail.com"
        "createdAt": "2021-03-29T09:21:50.553Z",
        "updatedAt": "2021-03-29T09:21:50.553Z"
    }
]

```

_Response (404 - Not Found)_
```
{
  "message": `Users is not found`
}
```

---
### GET /users/:id

> Get single asset as defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```

_Request Body_
```
not needed
```

_Request Params_
```
Required: id=[integer]
```

_Response (200)_OK
```
{
    "id": 1,
    "username": "blazeB"
    "fullName": "John Pond"
    "email": "blazeB@mail.com"
    "createdAt": "2021-03-29T09:21:50.553Z",
    "updatedAt": "2021-03-29T09:21:50.553Z"}
```

_Response (404 - Not Found)_
```
{
  "message": `User  is not found!`
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```

---
### PUT /users/:id

> Update an asset defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```

_Request Params_
```
Required: id=[integer]
```

_Request Body_
```
{
    "username": "abcdef"
    "email": "abcdef@mail.com",
    "password": "abcd1234"
    "fullname": "Redfield Steve",
    "image_url": "https://media.dcshoes.co.id/media/catalog/product/cache/alternate/500x500/9df78eab33525d08d6e5fb8d27136e95/a/d/adys100615_dc_mens_lynx_zero_shoe_xksr_2_h_2.jpg"
}
```

_Response (200 - OK)_
```
{
    "usernmae": "<updated user usernmae>",
    "email": "<updated user email>",
    "password": "<updated user title>",
    "fullname": "<updated user fullname>",
    "image_url": "<updated user image_url>",
    "updatedAt": "2021-03-29T10:46:13.444Z",
    "createdAt": "2021-03-29T10:46:13.444Z"
}
```

_Response (400 - Error Validation)_
```
{
    "message": '<key> cannot be empty!'
}
```

_Response (404 - Not Found)_
```
{
  "message": 'Not Found'
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```


---
### PATCH /users/:id

> Update status an asset defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```

_Request Params_
```
Required: id=[integer]
```

_Request Body_
```
{
    "status": "<input user status>"
}
```

_Response (200 - OK)_
```
{
    "status": "<updated status>",
    "updatedAt": "2021-03-29T10:46:13.444Z",
    "createdAt": "2021-03-29T10:46:13.444Z"
}
```

_Response (400 - Error Validation)_
```
{
    "message": '<key> is required!'
}
```

_Response (404 - Not Found)_
```
{
  "message": `user is not found!`
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```

---
### DELETE /user/:id

> Delete an asset defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```


_Request Body_
```
not needed
```

_Request Params_
```
Required: id=[integer]
```

_Response (200 - OK) 
```
{
  "message": "user success to delete"
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```

---
### GET /events

> Get single asset as defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```

_Request Body_
```
not needed
```

_Request Params_
```
not needed
```

_Response (200)_OK
```
[
    {
        "id": 1,content
content
        "GameId": "3",
        "UserId": "5",
        "title": "Mabar Dota 2",
        "content": "Acara akan di laksanakan pada hari jumat"
        "image": "https://cdn.akamai.steamstaticcom/steam/apps/570/header.jpg?t=1618283868"
        "location" : "-7.0317067,110.3365864,11.73z"
        "date" : "2021-07-29T09:21:50.553Z"
        "createdAt": "2021-03-29T09:21:50.553Z",
        "updatedAt": "2021-03-29T09:21:50.553Z"
    }
]
```

_Response (404 - Not Found)_
```
{
  "message": `events is not found`
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```

---
### GET /events/:id

> Get single asset as defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```

_Request Body_
```
not needed
```

_Request Params_
```
Required: id=[integer]
```

_Response (200)_OK
```
{
    "id": 1,
    "GameId": "3",
    "UserId": "5",
    "title": "Mabar Dota 2",
    "content": "Acara akan di laksanakan padahari jumat"
    "image": "https://cdn.akamai.steamstaticcomsteam/apps/570/header.jpg?t=1618283868"
    "location" : "-7.0317067,110.3365864,11.73z"
    "date" : "2021-07-29T09:21:50.553Z"
    "createdAt": "2021-03-29T09:21:50.553Z",
    "updatedAt": "2021-03-29T09:21:50.553Z"
}
```

_Response (404 - Not Found)_
```
{
  "message": `events is not found`
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```


---
### POST /events

> Create new asset

_Request Header_
```
{
    "access_token" : <your access token>
}
```

_Request Body_
```
{
    "GameId": "3",
    "UserId": "5",
    "title": "Mabar Dota 2",
    "content": "Acara akan di laksanakan padahari jumat"
    "image": "https://cdn.akamai.steamstaticcomsteam/apps/570/header.jpg?t=1618283868"
    "location" : "-7.0317067,110.3365864,11.73z"
    "date" : "2021-07-29T09:21:50.553Z"
}
```

_Response (201 - Created)_
```
{
    "id": 1,
    "GameId": "3",
    "UserId": "5",
    "title": "Mabar Dota 2",
    "content": "Acara akan di laksanakan padahari jumat"
    "image": "https://cdn.akamai.steamstaticcomsteam/apps/570/header.jpg?t=1618283868"
    "location" : "-7.0317067,110.3365864,11.73z"
    "date" : "2021-07-29T09:21:50.553Z"
    "createdAt": "2021-03-29T09:21:50.553Z",
    "updatedAt": "2021-03-29T09:21:50.553Z"
}
```

_Response (400 - Error Validation)_
```
{
    "message": '<key> cannot be empty!'
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```

---
### PUT /events/:id

> Update an asset defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```

_Request Params_
```
Required: id=[integer]
```

_Request Body_
```
{
    "GameId": "3",
    "title": "Mabar Dota 2",
    "content": "Acara akan di laksanakan padahari jumat"
    "image": "https://cdn.akamai.steamstaticcomsteam/apps/570/header.jpg?t=1618283868"
    "location" : "-7.0317067,110.3365864,11.73z"
    "date" : "2021-07-29T09:21:50.553Z"
}
```

_Response (200 - OK)_
```
{
    "GameId": "<updated thread GameId>",
    "title": "<updated thread title>",
    "content": "<updated thread content>",
    "image": "<updated thread image>",
    "location": "<updated thread location>",
    "date": "<updated thread date>",
    "updatedAt": "2021-03-29T10:46:13.444Z",
    "createdAt": "2021-03-29T10:46:13.444Z"
}
```

_Response (400 - Error Validation)_
```
{
    "message": '<key> cannot be empty!'
}
```

_Response (404 - Not Found)_
```
{
  "message": 'Not Found'
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```

---
### PATCH /events/:id

> Update an asset defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```

_Request Params_
```
Required: id=[integer]
```

_Request Body_
```
{
    "date" : "2021-07-29T09:21:50.553Z"
}
```

_Response (200 - OK)_
```
{
    "date": "<updated date>",
    "updatedAt": "2021-03-29T10:46:13.444Z",
    "createdAt": "2021-03-29T10:46:13.444Z"
}
```

_Response (400 - Error Validation)_
```
{
    "message": '<key> cannot be empty!'
}
```

_Response (404 - Not Found)_
```
{
  "message": 'Not Found'
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```


---
### DELETE /events/:id

> Delete an asset defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```


_Request Body_
```
not needed
```

_Request Params_
```
Required: id=[integer]
```

_Response (200 - OK) 
```
{
  "message": "thread success to delete"
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```


---
### GET /popularGames

> Get single asset as defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```

_Request Body_
```
not needed
```

_Request Params_
```
not needed
```

_Response (200)_OK
```
[
    {
        "slug": "medium",
        "name": "The Medium",
        "playtime": 4,
        "platforms": [
            {
                "platform": {
                    "id": 4,
                    "name": "PC",
                    "slug": "pc"
                }
            },
            {
                "platform": {
                    "id": 1,
                    "name": "Xbox One",
                    "slug": "xbox-one"
                }
            },
            {
                "platform": {
                    "id": 186,
                    "name": "Xbox Series S/X",
                    "slug": "xbox-series-x"
                }
            }
        ],
        "stores": [
            {
                "store": {
                    "id": 1,
                    "name": "Steam",
                    "slug": "steam"
                }
            },
            {
                "store": {
                    "id": 2,
                    "name": "Xbox Store",
                    "slug": "xbox-store"
                }
            },
            {
                "store": {
                    "id": 5,
                    "name": "GOG",
                    "slug": "gog"
                }
            },
            {
                "store": {
                    "id": 11,
                    "name": "Epic Games",
                    "slug": "epic-games"
                }
            }
        ],
        "released": "2021-01-28",
        "tba": false,
        "background_image": "https://media.rawg.io/media/games/8f5/8f5c25901d96e709ea631599106eda1c.jpg",
        "rating": 3.56,
        "rating_top": 4,
        "ratings_count": 117,
        "reviews_text_count": 5,
        "added": 862,
        "added_by_status": {
            "yet": 49,
            "owned": 476,
            "beaten": 81,
            "toplay": 201,
            "dropped": 29,
            "playing": 26
        },
        "metacritic": 73,
        "suggestions_count": 537,
        "updated": "2021-04-01T14:31:14",
        "id": 440081,
        "score": null,
        "clip": null,
        "esrb_rating": {
            "id": 4,
            "name": "Mature",
            "slug": "mature",
            "name_en": "Mature",
            "name_ru": "С 17 лет"
        },
        "user_game": null,
        "reviews_count": 124,
        "saturated_color": "0f0f0f",
        "dominant_color": "0f0f0f",
        "short_screenshots": [
            {
                "id": -1,
                "image": "https://media.rawg.io/media/games/8f5/8f5c25901d96e709ea631599106eda1c.jpg"
            },
            {
                "id": 2374831,
                "image": "https://media.rawg.io/media/screenshots/170/1708577e5a906e513daa4c88568e1119.jpg"
            },
            {
                "id": 2374832,
                "image": "https://media.rawg.io/media/screenshots/037/037eeba5eeb49e0080a50883c061b39b.jpg"
            },
            {
                "id": 2374833,
                "image": "https://media.rawg.io/media/screenshots/e8a/e8a07acd6993cc7ca2fb05a140a04ff5_oPkuc6K.jpg"
            },
            {
                "id": 2374834,
                "image": "https://media.rawg.io/media/screenshots/551/55166f53951099ff9dd6e28f1cf914b0.jpg"
            },
            {
                "id": 2374835,
                "image": "https://media.rawg.io/media/screenshots/eb9/eb98aa03f5131a0f6ba77c1b19aed063.jpg"
            },
            {
                "id": 2456247,
                "image": "https://media.rawg.io/media/screenshots/c99/c998545ac3d94df1481f5eb3592f0f69.jpg"
            }
        ],
        "parent_platforms": [
            {
                "platform": {
                    "id": 1,
                    "name": "PC",
                    "slug": "pc"
                }
            },
            {
                "platform": {
                    "id": 3,
                    "name": "Xbox",
                    "slug": "xbox"
                }
            }
        ],
        "genres": [
            {
                "id": 3,
                "name": "Adventure",
                "slug": "adventure"
            },
            {
                "id": 4,
                "name": "Action",
                "slug": "action"
            }
        ]
    }
]

```

_Response (404 - Not Found)_
```
{
  "message": `popular Games is not found`
}
```

