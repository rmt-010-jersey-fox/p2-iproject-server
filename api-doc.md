# forum Games-server
Server site Forum Games

# My forum Games App Server
My forum Games App is an application to manage your forum Games. It performs standard CRUD actions based on RESTful concept.

This app has : 
* RESTful endpoint for asset's CRUD operation
* JSON formatted response

&nbsp;

Tech Stack used to build this app :
* Node JS
* Express JS framework
* PostgreSQL
* Sequelize
* Bcrypt
* Dotenv
* Jsonwebtoken

## Global Responses
> These responses are applied globally on all endpoints

_Response (400 - Bad Request)_
```
{
  "message": "<your message for 400>"
}
```

_Response (401 - Unauthorized)_
```
{
  "message": "<your message for 401>"
}
```

_Response (500 - Internal Server Error)_
```
{
  "message": "<your message for 401>"
}
```


&nbsp;

### List endpoints
- `POST /login`
- `POST /googleLogin`
- `POST /register`
- `GET /games`
- `GET /games/:id`
- `POST /games`
- `PUT /games/:id`
- `DELETE /games/:id`
- `GET /users`
- `GET /users/:id`
- `PUT /users/:id`
- `PATCH /users/:id`
- `DELETE /users/:id`
- `GET /threads`
- `GET /threads/:id`
- `POST /threads`
- `PUT /threads/:id`
- `PATCH /threads/:id`
- `DELETE /threads/:id`
- `GET /events`
- `GET /events/:id`
- `POST /events`
- `PUT /events/:id`
- `PATCH /events/:id`
- `DELETE /events/:id`


&nbsp;

---
## RESTful endpoints

---
### POST /login

> Post login user


_Request Body_
```
{
    "email": "customer@mail.com",
    "password": "abc123"
}
```

_Response (200)_OK
```
[
    {
        "id": <User logged id>,
        "email": "<User logged email>",
        "access_token": <access_token>
    }
]
```

_Response (404)_Not Found
```
{
    "message":  ["<Error message>"]
}
```

---
### POST /googleLogin

> Post login user with Google Account

_Request Header_
```
not needed
```

_Request Body_
```
{
    "id_token" : <your id token generated by google>
}
```

_Response (201)_Created  (only if you login with google account for the first time)
```
[
    {
        "id": <User logged id>,
        "email": "<User logged email>",
        "username": "<User logged username>"
    }
]
```

_Response (200)_OK
```
[
    {
        "id": <User logged id>,
        "email": "<User logged email>",
        "username": "<User logged username>",
        "access_token": <access_token>
    }
]
```

### POST /register

> Post register user


_Request Body_
```
{
    "username": "abcdef"
    "email": "abcdef@mail.com",
    "password": "abcd1234"
}
```

_Response (201)_Created
```
[
    {
        "id": <registered id>,
        "username": "<registered username>",
        "email": "<registered email>",
    }
]
```

_Response (400)_Bad Request
```
{
    "message": "Bad Request",
    "errors": [
        "<Error message>"
    ]
}
```

---
### GET /games

> Get all games

_Request Header_
```
{
    "access_token" : <your access token>
}
```


_Request Body_
```
not needed
```

_Response (200)_OK
```
[
    {
        "id": 1,
        "name": "DOTA 2",
        "image_url": "https://cdn.akamai.steamstatic.com/steam/apps/570/header.jpg?t=1618283868",
        "createdAt": "2021-03-29T09:21:50.553Z",
        "updatedAt": "2021-03-29T09:21:50.553Z"
    },
    {
        "id": 2,
        "name": "Fortnite",
        "image_url": "https://cdn2.unrealengine.com/Diesel%2Fproduct%2Ffn%2FFortnite-Logo_w-Shadow-1778x811-ed23fe8dea13f030db120b226f9d2a101560bde2.png?h=270&resize=1&w=480",
        "createdAt": "2021-03-29T09:40:43.723Z",
        "updatedAt": "2021-03-29T10:23:02.775Z"
    }
]
```

---
### GET /games/:id

> Get single asset as defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```

_Request Body_
```
not needed
```

_Request Params_
```
Required: id=[integer]
```

_Response (200)_OK
```
{
        "id": 1,
        "name": "DOTA 2",
        "image_url": "https://cdn.akamai.steamstatic.com/steam/apps/570/header.jpg?t=1618283868",
        "createdAt": "2021-03-29T09:21:50.553Z",
        "updatedAt": "2021-03-29T09:21:50.553Z"
    }
```

_Response (404 - Not Found)_
```
{
  "message": `Game is not found!`
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```

---
### POST /games

> Create new asset

_Request Header_
```
{
    "access_token" : <your access token>
}
```

_Request Body_
```
{
    "name": "DOTA 2",
    "image_url": "https://cdn.akamai.steamstaticcom/steam/apps/570/header.jpg?t=1618283868",
}
```

_Request Params_
```
not needed
```

_Response (201 - Created)_
```
{
    "id": <given id by system>,
    "name": "<posted product name>",
    "image_url": "<posted product image_url>",
    "updatedAt": "2021-03-29T10:46:13.444Z",
    "createdAt": "2021-03-29T10:46:13.444Z"
}
```

_Response (400 - Error Validation)_
```
{
    "message": '<key> cannot be empty!'
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```

---
### PUT /games/:id

> Update an asset defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```

_Request Params_
```
Required: id=[integer]
```

_Request Body_
```
{
    "name": "DOTA 2",
    "image_url": "https://cdn.akamai.steamstaticcom/steam/apps/570/header.jpg?t=1618283868",

}
```

_Response (200 - OK)_
```
{
    "name": "<updated product name>",
    "image_url": "<updated product image_url>",
    "updatedAt": "2021-03-29T10:46:13.444Z",
    "createdAt": "2021-03-29T10:46:13.444Z"
}
```

_Response (400 - Error Validation)_
```
{
    "message": '<key> cannot be empty!'
}
```

_Response (404 - Not Found)_
```
{
  "message": 'Not Found'
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```

---
### DELETE /games/:id

> Delete an asset defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```


_Request Body_
```
not needed
```

_Request Params_
```
Required: id=[integer]
```

_Response (200 - OK) 
```
{
  "message": "Game success to delete"
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```

---
### GET /users

> Get single asset as defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```

_Request Body_
```
not needed
```

_Request Params_
```
not needed
```

_Response (200)_OK
```
[
    {
        "id": 1,
        "username": "blazeB"
        "fullName": "John Pond"
        "email": "blazeB@mail.com"
        "createdAt": "2021-03-29T09:21:50.553Z",
        "updatedAt": "2021-03-29T09:21:50.553Z"
    }
]

```

_Response (404 - Not Found)_
```
{
  "message": `Users is not found`
}
```

---
### GET /users/:id

> Get single asset as defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```

_Request Body_
```
not needed
```

_Request Params_
```
Required: id=[integer]
```

_Response (200)_OK
```
{
    "id": 1,
    "username": "blazeB"
    "fullName": "John Pond"
    "email": "blazeB@mail.com"
    "createdAt": "2021-03-29T09:21:50.553Z",
    "updatedAt": "2021-03-29T09:21:50.553Z"}
```

_Response (404 - Not Found)_
```
{
  "message": `User  is not found!`
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```

---
### PUT /users/:id

> Update an asset defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```

_Request Params_
```
Required: id=[integer]
```

_Request Body_
```
{
    "username": "abcdef"
    "email": "abcdef@mail.com",
    "password": "abcd1234"
    "fullname": "Redfield Steve",
    "image_url": "https://media.dcshoes.co.id/media/catalog/product/cache/alternate/500x500/9df78eab33525d08d6e5fb8d27136e95/a/d/adys100615_dc_mens_lynx_zero_shoe_xksr_2_h_2.jpg"
}
```

_Response (200 - OK)_
```
{
    "usernmae": "<updated user usernmae>",
    "email": "<updated user email>",
    "password": "<updated user title>",
    "fullname": "<updated user fullname>",
    "image_url": "<updated user image_url>",
    "updatedAt": "2021-03-29T10:46:13.444Z",
    "createdAt": "2021-03-29T10:46:13.444Z"
}
```

_Response (400 - Error Validation)_
```
{
    "message": '<key> cannot be empty!'
}
```

_Response (404 - Not Found)_
```
{
  "message": 'Not Found'
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```


---
### PATCH /users/:id

> Update status an asset defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```

_Request Params_
```
Required: id=[integer]
```

_Request Body_
```
{
    "status": "<input user status>"
}
```

_Response (200 - OK)_
```
{
    "status": "<updated status>",
    "updatedAt": "2021-03-29T10:46:13.444Z",
    "createdAt": "2021-03-29T10:46:13.444Z"
}
```

_Response (400 - Error Validation)_
```
{
    "message": '<key> is required!'
}
```

_Response (404 - Not Found)_
```
{
  "message": `user is not found!`
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```

---
### DELETE /user/:id

> Delete an asset defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```


_Request Body_
```
not needed
```

_Request Params_
```
Required: id=[integer]
```

_Response (200 - OK) 
```
{
  "message": "user success to delete"
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```

---
### GET /events

> Get single asset as defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```

_Request Body_
```
not needed
```

_Request Params_
```
not needed
```

_Response (200)_OK
```
[
    {
        "id": 1,content
content
        "GameId": "3",
        "UserId": "5",
        "title": "Mabar Dota 2",
        "content": "Acara akan di laksanakan pada hari jumat"
        "image": "https://cdn.akamai.steamstaticcom/steam/apps/570/header.jpg?t=1618283868"
        "location" : "-7.0317067,110.3365864,11.73z"
        "date" : "2021-07-29T09:21:50.553Z"
        "createdAt": "2021-03-29T09:21:50.553Z",
        "updatedAt": "2021-03-29T09:21:50.553Z"
    }
]
```

_Response (404 - Not Found)_
```
{
  "message": `events is not found`
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```

---
### GET /events/:id

> Get single asset as defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```

_Request Body_
```
not needed
```

_Request Params_
```
Required: id=[integer]
```

_Response (200)_OK
```
{
    "id": 1,
    "GameId": "3",
    "UserId": "5",
    "title": "Mabar Dota 2",
    "content": "Acara akan di laksanakan padahari jumat"
    "image": "https://cdn.akamai.steamstaticcomsteam/apps/570/header.jpg?t=1618283868"
    "location" : "-7.0317067,110.3365864,11.73z"
    "date" : "2021-07-29T09:21:50.553Z"
    "createdAt": "2021-03-29T09:21:50.553Z",
    "updatedAt": "2021-03-29T09:21:50.553Z"
}
```

_Response (404 - Not Found)_
```
{
  "message": `events is not found`
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```


---
### POST /events

> Create new asset

_Request Header_
```
{
    "access_token" : <your access token>
}
```

_Request Body_
```
{
    "GameId": "3",
    "UserId": "5",
    "title": "Mabar Dota 2",
    "content": "Acara akan di laksanakan padahari jumat"
    "image": "https://cdn.akamai.steamstaticcomsteam/apps/570/header.jpg?t=1618283868"
    "location" : "-7.0317067,110.3365864,11.73z"
    "date" : "2021-07-29T09:21:50.553Z"
}
```

_Response (201 - Created)_
```
{
    "id": 1,
    "GameId": "3",
    "UserId": "5",
    "title": "Mabar Dota 2",
    "content": "Acara akan di laksanakan padahari jumat"
    "image": "https://cdn.akamai.steamstaticcomsteam/apps/570/header.jpg?t=1618283868"
    "location" : "-7.0317067,110.3365864,11.73z"
    "date" : "2021-07-29T09:21:50.553Z"
    "createdAt": "2021-03-29T09:21:50.553Z",
    "updatedAt": "2021-03-29T09:21:50.553Z"
}
```

_Response (400 - Error Validation)_
```
{
    "message": '<key> cannot be empty!'
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```

---
### PUT /events/:id

> Update an asset defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```

_Request Params_
```
Required: id=[integer]
```

_Request Body_
```
{
    "GameId": "3",
    "title": "Mabar Dota 2",
    "content": "Acara akan di laksanakan padahari jumat"
    "image": "https://cdn.akamai.steamstaticcomsteam/apps/570/header.jpg?t=1618283868"
    "location" : "-7.0317067,110.3365864,11.73z"
    "date" : "2021-07-29T09:21:50.553Z"
}
```

_Response (200 - OK)_
```
{
    "GameId": "<updated thread GameId>",
    "title": "<updated thread title>",
    "content": "<updated thread content>",
    "image": "<updated thread image>",
    "location": "<updated thread location>",
    "date": "<updated thread date>",
    "updatedAt": "2021-03-29T10:46:13.444Z",
    "createdAt": "2021-03-29T10:46:13.444Z"
}
```

_Response (400 - Error Validation)_
```
{
    "message": '<key> cannot be empty!'
}
```

_Response (404 - Not Found)_
```
{
  "message": 'Not Found'
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```

---
### PATCH /events/:id

> Update an asset defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```

_Request Params_
```
Required: id=[integer]
```

_Request Body_
```
{
    "date" : "2021-07-29T09:21:50.553Z"
}
```

_Response (200 - OK)_
```
{
    "date": "<updated date>",
    "updatedAt": "2021-03-29T10:46:13.444Z",
    "createdAt": "2021-03-29T10:46:13.444Z"
}
```

_Response (400 - Error Validation)_
```
{
    "message": '<key> cannot be empty!'
}
```

_Response (404 - Not Found)_
```
{
  "message": 'Not Found'
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```


---
### DELETE /events/:id

> Delete an asset defined by the id provided

_Request Header_
```
{
    "access_token" : <your access token>
}
```


_Request Body_
```
not needed
```

_Request Params_
```
Required: id=[integer]
```

_Response (200 - OK) 
```
{
  "message": "thread success to delete"
}
```

_Response (401)_
```
{
    "message" : <authentication error>
}
```

